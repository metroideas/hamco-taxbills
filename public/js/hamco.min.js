var map=window.map||{};!function(t){function a(){d3.json("/js/hamco.topo.json",function(t,a){if(t)throw t;var e=topojson.feature(a,a.objects.blockgroups),r=d3.geoBounds(e),o=u([(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]);k.selectAll("path.blockgroup").data(e.features).enter().append("path").attr("class","blockgroup").attr("d",h).attr("fill","none"),g.call(f).call(f.transform,d3.zoomIdentity.translate(i/2,c/2).scale(d).translate(-o[0],-o[1]))})}function e(){var t=d3.event.transform,a=m.scale(t.k).translate([t.x,t.y])();k.selectAll("path.blockgroup").attr("transform",t).style("stroke-width",1/t.k);var e=b.attr("transform",r(a.scale,a.translate)).selectAll("image").data(a,function(t){return t});e.exit().remove(),e.enter().append("image").attr("class","tile").attr("x",function(t){return 256*t[0]}).attr("y",function(t){return 256*t[1]}).attr("width",256).attr("height",256).attr("xlink:href",function(t){var a={base:"https://api.mapbox.com/styles/v1/mdavidmorton/",style:"ciu5nfp4500eg2ipgdjbmflkw/",tileset:"tiles/256/",key:"@2x?access_token=pk.eyJ1IjoibWRhdmlkbW9ydG9uIiwiYSI6ImNpZzN5cDZyNTI3czJ1c201cjlvMjh4OWQifQ.CGZjS_17LA9FrdS92dMUow",url:function(t,a,e){return this.base+this.style+this.tileset+e+"/"+t+"/"+a+this.key}},e=t[0],r=t[1],o=t[2];return a.url(e,r,o)})}function r(t,a){var e=t/256,r=t%1?Number:Math.round;return"translate("+r(a[0]*t)+","+r(a[1]*t)+") scale("+e+")"}var o=Math.PI,n=2*o,s=document.querySelector("#map"),l=800,i=+s.offsetWidth,c=Math.round(1.1*i),p=1<<26,d=(1<<19)*(i/l);s.innerHTML="",window.onload=a();var u=d3.geoMercator().scale(1/n).translate([0,0]),h=d3.geoPath().projection(u),m=d3.tile().size([i,c]),f=d3.zoom().scaleExtent([d,p]).on("zoom",e),g=d3.select(s).append("svg").attr("width",i).attr("height",c),b=g.append("g").attr("id","map-tiles"),k=g.append("g").attr("id","blockgroups");d3.select("#map").append("div").attr("class","attribution").html('<a href="http://metroideas.org">Metro Ideas Project</a> | <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a> | Â© <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>'),t.update=function(t){}}(map);
//# sourceMappingURL=hamco.min.js.map
