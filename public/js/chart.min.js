!function(t,a,e,r){function n(){function t(t){t.on("mouseover",function(t){var a=e.select("#tooltip").classed("hidden",!1),r=e.format("$,");a.select("#year").html(t.year),a.select("#appraisal-amount").html(r(t.appraisal)),a.select("#county-amount").html(r(t.county)),a.select("#municipality-amount").html(r(t.municipality));var n=this.getCTM().translate(+this.getAttribute("cx"),+this.getAttribute("cy"));a.style("left",function(){var t,r=+a.style("width").slice(0,-2),i=e.event.pageX-r/2;return n.e<=.25*u?(t=(u-n.e)/u,i+=t*r/2):n.e>=.75*u&&(t=1-(u-n.e)/u,i-=t*r/2),i+"px"}),a.style("top",function(){var t=+a.style("height").slice(0,-2),r=e.event.pageY;return r=n.f>=.5*h?r-1.5*t:r+15,r+"px"})}).on("mouseout",function(){e.select("#tooltip").classed("hidden",!0)})}var n=a.querySelector("#graphic"),i=n.querySelector(".chart"),l=+n.offsetWidth<=768,s=null==r.type,o=l?{width:1,height:2}:{width:8,height:3},c={top:32,right:16,bottom:32,left:l?32:40,width:function(){return this.right+this.left},height:function(){return this.top+this.bottom}},u=+n.offsetWidth-c.width(),h=Math.round(u*(o.height/o.width)-c.height());if(s&&r.taxbills.length!=r.county.taxbills.length){var d=r.county.taxbills.map(function(t){return{year:t.year}}),p=r.taxbills;d=d.filter(function(t){return!p.find(function(a){return a.year==t.year})}),r.taxbills=p.concat(d).sort(function(t,a){return t.year-a.year}),d=p=null}var f=function(){function t(t,a){var r=e.max(t,function(t){return t.appraisal});return a>r?a:r}var a=t(r.taxbills,0);for(var n in r)r[n].taxbills&&(a=t(r[n].taxbills,a));return a}(),g=e.scaleBand().domain(r.taxbills.map(function(t){return t.year})),m=e.scaleLinear().domain([0,f]);if(l){g.range([0,h]).padding(.1),m.range([0,u]);var y=e.axisTop(m).tickSize(-h,0,0)}else{g.range([0,u]).padding(.25),m.range([h,0]);var y=e.axisLeft(m).tickSize(-u,0,0)}y.tickArguments([4,e.format("$.0s")]),i.innerHTML="";var b=e.select(i).append("svg").attr("width",u+c.width()).attr("height",h+c.height()).append("g").attr("transform","translate("+c.left+","+c.top+")");b.append("g").attr("class","axis").call(y),b.select("g.axis g.tick:first-of-type text").remove();var x=b.append("g").attr("class","bars").selectAll("g.bar-group").data(r.taxbills).enter().append("g").attr("class","bar-group");x.attr("transform",function(t){return l?"translate(0,"+g(t.year)+")":"translate("+g(t.year)+",0)"});var v=x.append("text").attr("class","label").text(function(t){return t.year});l?(v.attr("transform","translate("+-c.left+","+g.bandwidth()/2+")").attr("dominant-baseline","middle"),x.append("rect").attr("x",0).attr("y",0).attr("height",g.bandwidth()).attr("width",function(t){return m(t.appraisal)})):(v.attr("transform",function(t){return"translate("+g.bandwidth()/2+","+(h+c.bottom/2)+")"}).attr("text-anchor","middle"),x.append("rect").attr("x",0).attr("y",function(t){return m(t.appraisal)}).attr("height",function(t){return h-m(t.appraisal)}).attr("width",g.bandwidth()).call(t)),s&&e.selectAll("input[type='checkbox']").on("change",function(){if(this.checked){var t=this.id,a=e.line().x(function(t){return l?m(t.appraisal):g(t.year)}).y(function(t){return l?g(t.year):m(t.appraisal)});b.append("path").attr("class","summary "+t).datum(r[t].taxbills).attr("d",a).attr("transform",function(t){var a=g.bandwidth()/2;return l?"translate(0,"+a+")":"translate("+a+",0)"})}else{var a="path.summary."+this.id;e.select(a).remove()}})}e&&(t.onload=n,t.onresize=n)}(window,document,d3,data);
//# sourceMappingURL=chart.min.js.map
